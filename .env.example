# ==========================================
# FaithTracker Environment Configuration
# ==========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ==========================================
# DEPLOYMENT MODE
# ==========================================
# Choose your deployment method:
# - "docker" = Docker Compose with Traefik (recommended)
# - "manual" = Manual installation with Nginx
DEPLOYMENT_MODE="docker"

# ==========================================
# DOMAIN CONFIGURATION
# ==========================================
# Your main domain (without https://)
# Frontend: https://DOMAIN
# Backend API: https://api.DOMAIN
DOMAIN="faithtracker.example.com"

# Email for Let's Encrypt SSL certificates
ACME_EMAIL="admin@example.com"

# ==========================================
# DOCKER CONFIGURATION
# ==========================================
# MongoDB credentials (for Docker deployment)
MONGO_ROOT_USERNAME="admin"
MONGO_ROOT_PASSWORD="your-secure-mongodb-password-here"

# Traefik Dashboard Authentication (optional)
# Generate with: htpasswd -nb admin your-password
# Then escape $ with $$: echo $(htpasswd -nb admin pass) | sed -e s/\\$/\\$\\$/g
TRAEFIK_DASHBOARD_AUTH="admin:$$apr1$$xyz$$hashedpassword"

# ==========================================
# MANUAL INSTALLATION CONFIGURATION
# ==========================================
# MongoDB Connection (for manual deployment)
# Format: mongodb://[username:password@]host[:port]/database
MONGODB_URI="mongodb://localhost:27017/faithtracker"

# ==========================================
# SECURITY KEYS (Required for both modes)
# ==========================================
# JWT secret for authentication
# Generate with: openssl rand -hex 32
JWT_SECRET="your-jwt-secret-key-here-MUST-BE-CHANGED"

# Fernet encryption key for sensitive data
# Generate with: python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY="generate-with-command-above"

# ==========================================
# FRONTEND CONFIGURATION
# ==========================================
# Backend API URL (automatically set in Docker mode)
# For Docker: https://api.DOMAIN (set automatically)
# For Manual: https://api.yourdomain.com
REACT_APP_BACKEND_URL="https://api.faithtracker.example.com"

# ==========================================
# OPTIONAL INTEGRATIONS
# ==========================================
# WhatsApp Gateway URL (if you have a WhatsApp gateway service)
# The gateway should accept POST /send/message with {phone, message}
# Example using wa-automate or similar: http://localhost:3000
# WHATSAPP_GATEWAY_URL="http://your-whatsapp-gateway:3000"

# ==========================================
# INITIAL SETUP (First deployment only)
# ==========================================
ADMIN_EMAIL="admin@yourchurch.org"
ADMIN_PASSWORD="your-secure-admin-password"
CHURCH_NAME="Your Church Name"

# ==========================================
# IMPORTANT NOTES
# ==========================================
# 1. NEVER commit .env with real credentials to version control
# 2. Generate strong, unique secrets for production
# 3. Keep JWT_SECRET secure and never share it
# 4. For Docker: only DOMAIN, MONGO_ROOT_PASSWORD, JWT_SECRET,
#    ENCRYPTION_KEY, and ACME_EMAIL are required
# 5. For Manual: also configure MONGODB_URI and REACT_APP_BACKEND_URL
